{"version":3,"names":[],"mappings":"","sources":["profile.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar vm = new Vue({\n    el: '#app',\n    data: {\n        user: {},\n        amvs: []\n    },\n\n    mounted: function mounted() {\n        this.$nextTick(function () {\n            this.getUser();\n            this.getAMVs();\n        });\n    },\n\n    methods: {\n        getUser: function getUser() {\n            this.user.id = document.querySelector(\"meta[name='user']\").getAttribute('id');\n        },\n        getAMVs: function getAMVs() {\n            var _this = this;\n\n            this.$http.get('/api/amvs?user=' + this.user.id).then(function (response) {\n                _this.amvs = response.body;\n                _this.formatDateAndURL();\n                _this.setBackground();\n            }, function (response) {\n                console.log(\"Couldn't load AMVs\");\n            });\n        },\n        formatDateAndURL: function formatDateAndURL() {\n            for (var i = 0; i < this.amvs.length; i++) {\n                var date = new Date(this.amvs[i].created_at);\n                this.amvs[i].date = moment(date).format('MMM YYYY');\n                this.amvs[i].url = this.amvs[i].title.replace(\" \", \"_\").toLowerCase();\n            }\n        },\n        setBackground: function setBackground() {\n            this.$nextTick(function () {\n                var bg = 'url(/img/bgs/' + this.amvs[0].bg + ') bottom right / cover no-repeat';\n                document.querySelector(\"header\").style.background = bg;\n            });\n        },\n        animateCard: function animateCard(event) {\n            var card = event.currentTarget.parentElement;\n            var icon = event.currentTarget.getElementsByTagName('i');\n            icon[0].classList.add('fa-spin-fast');\n\n            if (card.classList.contains('mc-active')) {\n                card.classList.remove('mc-active');\n\n                window.setTimeout(function () {\n                    icon[0].classList.remove('fa-arrow-left');\n                    icon[0].classList.remove('fa-spin-fast');\n                    icon[0].classList.add('fa-bars');\n                }, 400);\n            } else {\n                card.classList.add('mc-active');\n                window.setTimeout(function () {\n                    icon[0].classList.remove('fa-bars');\n                    icon[0].classList.remove('fa-spin-fast');\n                    icon[0].classList.add('fa-arrow-left');\n                }, 400);\n            }\n        }\n    }\n});\n\n},{}]},{},[1]);\n"],"file":"profile.js","sourceRoot":"/source/"}